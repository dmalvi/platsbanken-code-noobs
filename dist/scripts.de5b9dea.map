{"version":3,"sources":["scripts/index.js","../../../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../../../../usr/local/lib/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["searchButton","document","querySelector","printDiv","nextButton","result","pageNumber","baseURL","form","vocation","area","numberOfPages","fetchURL","searchCriteria","value","responseObject","fetch","matches","json","addEventListener","event","preventDefault","innerHTML","console","log","matchningdata","matchningslista","printString","getHtmlString","printJobs","revealNextButton","antalAnnonser","antal_platsannonser","insertAdjacentHTML","classList","remove","string","data","htmlString","post","annonsid","annonsrubrik","yrkesbenamning","arbetsplatsnamn","annonsurl","bundleURL","getBundleURLCached","getBundleURL","Error","err","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","i","length","module"],"mappings":"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","file":"scripts.de5b9dea.map","sourceRoot":"..","sourcesContent":["import '../scss/style.scss';\nimport '../scss/normalize.scss';\n\n\nconst searchButton = document.querySelector(\".searchButton\");\nconst printDiv = document.querySelector(\"#print\");\nconst nextButton = document.querySelector(\".next\");\nconst result = document.querySelector(\".result\");\nlet pageNumber = 1;\nconst baseURL = 'http://api.arbetsformedlingen.se/af/v0/';\nlet form = document.querySelector(\".form\");\nlet vocation = document.querySelector(\"#vocation\");\nlet area = document.querySelector(\"#area\");\nlet numberOfPages = document.querySelector(\"#pages\");\n\n\n//Makes a request\nasync function fetchURL() {\n  let searchCriteria = `platsannonser/matchning?lanid=${area.value}&yrkesomradeid=${vocation.value}&antalrader=${numberOfPages.value}`;\n  const responseObject = await fetch(baseURL + searchCriteria + \"&sida=\" +pageNumber);\n  let matches = await responseObject.json();\n  return matches;\n}\n\n// function for when you push SÖK\nform.addEventListener(\"submit\", async function(event) {\n  event.preventDefault();\n  printDiv.innerHTML = \"\";\n  let matches = await fetchURL();\n  console.log(matches);\n  let matchningdata = matches.matchningslista.matchningdata;\n  let printString = getHtmlString(matchningdata);\n  printJobs(printString);\n  revealNextButton();\n  let antalAnnonser = matches.matchningslista.antal_platsannonser;\n  result.innerHTML=\"\";\n  result.insertAdjacentHTML(\"afterbegin\", \"Antal annonser: \" + antalAnnonser + \" st\");\n});\n\n// funtion for reveal LADDA FLER button\nfunction revealNextButton(){\n  nextButton.classList.remove(\"hide\");\n}\n\n// function for when you push LADDA FLER\nnextButton.addEventListener(\"click\",async function(){\n  event.preventDefault();\n  pageNumber = pageNumber + 1;\n  let matches = await fetchURL();\n  let matchningdata = matches.matchningslista.matchningdata;\n  let printString = getHtmlString(matchningdata);\n  printJobs(printString);\n});\n\n//prints out HTMLstring on the page\nfunction printJobs(string) {\n  printDiv.insertAdjacentHTML(\"beforeend\", string);\n}\n\n// let popUpButton = document.querySelector(\".popUpButton\");\n// let popUp = document.querySelector(\".popUp\");\n\n// popUpButton.addEventListener(\"click\",function(){\n// popUp.classList.remove(\"hide\");\n// });\n\n//what to print out\nfunction getHtmlString(data){\n  let htmlString = \"\";\n  for(let post of data){\n    htmlString +=`\n    <div class=\"card\" id=\"${post.annonsid}\">\n    <p>${post.annonsid}</p>\n    <h2>${post.annonsrubrik}</h2>\n    <p>${post.yrkesbenamning}</p>\n    <p>${post.arbetsplatsnamn}</p>\n    <a href=\"${post.annonsurl}\" class=\"popUpButton\" target=\"_blank\">Läs mer</a>\n    </div>`\n    };\n    return htmlString;\n  }\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}